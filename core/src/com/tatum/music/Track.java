//TODO: modify the code to make it compatible with android